<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Tumbuhan Cerdas üå±</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Comic Neue', cursive; background: #a8e6cf url('game_bg.jpg') no-repeat center center fixed; background-size: cover; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; overflow: hidden; }
        .game-container { background: rgba(255, 255, 255, 0.95); border-radius: 30px; padding: 30px; box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2); max-width: 550px; width: 90%; text-align: center; border: 8px solid #4CAF50; }
        #question-area { background: #f1f8e9; padding: 20px; border-radius: 15px; font-size: 1.2rem; margin-bottom: 20px; border: 2px dashed #4CAF50; min-height: 60px; display: flex; align-items: center; justify-content: center; }
        .options-container { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .option-button { background: #81c784; color: white; border: none; padding: 15px; border-radius: 15px; font-size: 1rem; font-weight: bold; cursor: pointer; box-shadow: 0 4px 0 #388e3c; }
        .option-button:active { transform: translateY(4px); box-shadow: none; }
        .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; flex-direction: column; justify-content: center; align-items: center; color: white; z-index: 10; text-align: center; }
        .overlay.active { display: flex; }
        .win-animation video { width: 280px; border-radius: 20px; border: 4px solid #ffeb3b; }
        .btn-action { background: #ffc107; color: black; border: none; padding: 15px 30px; border-radius: 50px; font-size: 1.2rem; font-weight: bold; cursor: pointer; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üå± Tumbuhan Cerdas üå±</h1>
        <div id="start-screen">
            <p>Jawab 10 soal tentang tumbuhan. Nyawamu cuma 3! ‚ù§Ô∏è</p>
            <button class="btn-action" onclick="startGame()">Mulai Game!</button>
        </div>
        <div id="game-screen" style="display: none;">
            <div id="question-area"></div>
            <div class="options-container" id="optionsContainer"></div>
            <div id="lives-area" style="margin-top:20px; color:red;">Nyawa: <span id="heartsContainer">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</span></div>
        </div>
    </div>

    <div class="overlay" id="winScreen">
        <h2 style="color: #ffeb3b;">HEBAT! KAMU MENANG! üéâ</h2>
        <div class="win-animation"><video id="winVideo" loop muted playsinline><source src="winner_character.mp4" type="video/mp4"></video></div>
        <button class="btn-action" onclick="location.reload()">Main Lagi</button>
    </div>

    <div class="overlay" id="loseScreen">
        <h2 style="color: #f44336;">YAH, GAME OVER... üò≠</h2>
        <p>Jangan menyerah, ayo coba lagi!</p>
        <button class="btn-action" onclick="location.reload()">Coba Lagi</button>
    </div>

    <audio id="bgm" src="bgm_game.m4a" loop></audio>
    <audio id="correctSfx" src="correct_sound.m4a"></audio>
    <audio id="wrongSfx" src="wrong_sound.m4a"></audio>

    <script>
        const questions = [
            { q: "Apa bagian tumbuhan yang menyerap air dari tanah?", a: ["Batang", "Daun", "Akar", "Bunga"], c: 2 },
            { q: "Fotosintesis (memasak makanan) terjadi di...", a: ["Akar", "Biji", "Daun", "Batang"], c: 2 },
            { q: "Zat hijau pada daun disebut?", a: ["Vitamin", "Klorofil", "Oksigen", "Pupuk"], c: 1 },
            { q: "Bagian tumbuhan yang menghasilkan biji adalah...", a: ["Akar", "Bunga", "Daun", "Duri"], c: 1 },
            { q: "Gas yang dikeluarkan tumbuhan saat fotosintesis?", a: ["Oksigen", "Karbondioksida", "Nitrogen", "Asap"], c: 0 },
            { q: "Akar singkong menyimpan cadangan makanan berupa...", a: ["Biji", "Batang", "Umbi/Akar", "Buah"], c: 2 },
            { q: "Pohon mangga memiliki akar jenis...", a: ["Serabut", "Tunggang", "Gantung", "Napas"], c: 1 },
            { q: "Apa yang mengangkut air dari akar ke daun?", a: ["Bunga", "Batang", "Buah", "Biji"], c: 1 },
            { q: "Tumbuhan yang memakan serangga disebut?", a: ["Herbivora", "Karnivora", "Insektivora", "Omnivora"], c: 2 },
            { q: "Daun Putri Malu akan menutup jika...", a: ["Disiram", "Dipupuk", "Disentuh", "Dipetik"], c: 2 }
        ];

        let currentQ = 0, lives = 3;
        function startGame() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            document.getElementById('bgm').play().catch(() => {});
            loadQuestion();
        }
        function loadQuestion() {
            const qData = questions[currentQ];
            document.getElementById('question-area').innerText = qData.q;
            const container = document.getElementById('optionsContainer');
            container.innerHTML = "";
            qData.a.forEach((txt, i) => {
                const btn = document.createElement('button');
                btn.className = 'option-button'; btn.innerText = txt;
                btn.onclick = () => checkAnswer(i);
                container.appendChild(btn);
            });
        }
        function checkAnswer(idx) {
            if (idx === questions[currentQ].c) {
                document.getElementById('correctSfx').play();
                currentQ++;
                if (currentQ < questions.length) loadQuestion();
                else showWin();
            } else {
                document.getElementById('wrongSfx').play();
                lives--;
                document.getElementById('heartsContainer').innerText = "‚ù§Ô∏è".repeat(lives);
                if (lives <= 0) showLose();
                else alert("Salah! Hati-hati ya!");
            }
        }
        function showWin() {
            document.getElementById('bgm').pause();
            document.getElementById('winScreen').classList.add('active');
            document.getElementById('winVideo').play();
        }
        function showLose() {
            document.getElementById('bgm').pause();
            document.getElementById('loseScreen').classList.add('active');
        }
    </script>
</body>
</html>